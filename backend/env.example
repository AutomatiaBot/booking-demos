# Automatia Booking API - Environment Variables
# 
# This application uses GCP Secret Manager for all secrets in production.
# For local development, you have two options:
#
# OPTION 1 (Recommended): Use Secret Manager with local credentials
#   1. Run: gcloud auth application-default login
#   2. Ensure secrets exist in Secret Manager (see below)
#   3. Set GCP_PROJECT_ID in your environment
#
# OPTION 2: Use environment variables (for offline development)
#   1. Copy this file to .env
#   2. Fill in your values
#   3. Set USE_ENV_SECRETS=true
#
# ===========================================
# Required Environment Variables
# ===========================================

# Your GCP Project ID (always required)
GCP_PROJECT_ID=your-gcp-project-id

# Enable environment variable fallback for local development
# Set to 'true' to use .env file instead of Secret Manager
USE_ENV_SECRETS=false

# Path to service account JSON (for local development only)
# Not needed if using 'gcloud auth application-default login'
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# ===========================================
# Secrets (stored in GCP Secret Manager)
# ===========================================
# The following should be created in Secret Manager.
# If USE_ENV_SECRETS=true, set them here instead.

# Secret key for signing JWT tokens (MUST be at least 32 characters)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long

# JWT algorithm (default: HS256)
JWT_ALGORITHM=HS256

# Token expiration time in hours (default: 24)
JWT_EXPIRATION_HOURS=24

# Comma-separated list of allowed CORS origins
# Example: http://localhost:8080,https://your-domain.com,https://demos.automatia.bot
CORS_ORIGINS=http://localhost:8080

# ===========================================
# Creating Secrets in GCP Secret Manager
# ===========================================
# Run these commands to create the required secrets:
#
# gcloud secrets create JWT_SECRET --replication-policy="automatic"
# echo -n "your-jwt-secret-value" | gcloud secrets versions add JWT_SECRET --data-file=-
#
# gcloud secrets create GCP_PROJECT_ID --replication-policy="automatic"
# echo -n "your-project-id" | gcloud secrets versions add GCP_PROJECT_ID --data-file=-
#
# gcloud secrets create JWT_ALGORITHM --replication-policy="automatic"
# echo -n "HS256" | gcloud secrets versions add JWT_ALGORITHM --data-file=-
#
# gcloud secrets create JWT_EXPIRATION_HOURS --replication-policy="automatic"
# echo -n "24" | gcloud secrets versions add JWT_EXPIRATION_HOURS --data-file=-
#
# gcloud secrets create CORS_ORIGINS --replication-policy="automatic"
# echo -n "https://your-domain.com" | gcloud secrets versions add CORS_ORIGINS --data-file=-
#
# ===========================================
# Granting Access to Secrets
# ===========================================
# Your Cloud Run service account needs the "Secret Manager Secret Accessor" role.
# Run this command for each secret:
#
# gcloud secrets add-iam-policy-binding JWT_SECRET \
#   --member="serviceAccount:YOUR-SERVICE-ACCOUNT@PROJECT-ID.iam.gserviceaccount.com" \
#   --role="roles/secretmanager.secretAccessor"
