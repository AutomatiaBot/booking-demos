<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Manhattan Smiles Dental Studio – AI Assistant Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Experience Manhattan Smiles' AI-powered dental assistant. Book appointments, ask questions, and get instant support." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      /* Manhattan Smiles Brand Colors */
      --ms-blue: #7BB8D7;
      --ms-blue-deep: #5A9BC0;
      --ms-blue-light: rgba(123, 184, 215, 0.12);
      --ms-blue-glow: rgba(123, 184, 215, 0.25);
      --bg: #FAFCFD;
      --bg-card: #FFFFFF;
      --text: #1E2D3D;
      --text-soft: #4A6377;
      --text-muted: #8AA4B8;
      --border: #E8EEF2;
      --success: #4ECDC4;
      --radius: 24px;
      --shadow: 0 8px 40px rgba(30, 45, 61, 0.06);
      --shadow-hover: 0 12px 50px rgba(123, 184, 215, 0.18);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Outfit', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Elegant background pattern */
    .bg-pattern {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 20%, var(--ms-blue-light), transparent 50%),
        radial-gradient(circle at 80% 80%, var(--ms-blue-light), transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(255,255,255,0.8), transparent 70%);
      pointer-events: none;
      z-index: 0;
    }

    .container {
      position: relative;
      z-index: 1;
      max-width: 1000px;
      margin: 0 auto;
      padding: 3rem 2rem;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 2rem;
    }

    .logo-group {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .logo-icon {
      width: 48px;
      height: 48px;
    }

    .logo-icon svg {
      width: 100%;
      height: 100%;
    }

    .logo-text {
      font-family: 'Outfit', sans-serif;
      font-weight: 500;
      font-size: 0.85rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text);
      line-height: 1.3;
    }

    .logo-text span {
      display: block;
      font-size: 0.65rem;
      letter-spacing: 0.35em;
      color: var(--text-muted);
    }

    .contact-pill {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      padding: 0.6rem 1.25rem;
      border-radius: 999px;
      font-size: 0.875rem;
      color: var(--text-soft);
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .contact-pill:hover {
      border-color: var(--ms-blue);
      color: var(--ms-blue-deep);
      box-shadow: 0 4px 15px var(--ms-blue-light);
    }

    .contact-pill svg {
      width: 16px;
      height: 16px;
      color: var(--ms-blue);
    }

    /* Main content */
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 2rem 0;
    }

    .hero {
      margin-bottom: 3rem;
    }

    .tagline {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 400;
      color: var(--ms-blue);
      line-height: 1.15;
      margin-bottom: 1.25rem;
      font-style: italic;
    }

    .subtitle {
      font-size: 1.15rem;
      color: var(--text-soft);
      max-width: 500px;
      margin: 0 auto;
      font-weight: 300;
    }

    /* Demo Card */
    .demo-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 3rem;
      max-width: 540px;
      width: 100%;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
      transition: all 0.4s ease;
    }

    .demo-card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow-hover);
      border-color: var(--ms-blue);
    }

    .card-glow {
      position: absolute;
      top: -50%;
      right: -50%;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, var(--ms-blue-glow), transparent 60%);
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .demo-card:hover .card-glow {
      opacity: 1;
    }

    .card-icon {
      width: 72px;
      height: 72px;
      margin: 0 auto 1.5rem;
      background: linear-gradient(135deg, var(--ms-blue-light), var(--ms-blue-glow));
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .card-icon::before {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 22px;
      background: linear-gradient(135deg, var(--ms-blue), transparent);
      opacity: 0.3;
      z-index: -1;
    }

    .card-icon svg {
      width: 32px;
      height: 32px;
      color: var(--ms-blue-deep);
    }

    .demo-card h2 {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.75rem;
      font-weight: 500;
      color: var(--text);
      margin-bottom: 0.75rem;
    }

    .demo-card p {
      color: var(--text-soft);
      font-size: 1rem;
      line-height: 1.7;
      margin-bottom: 2rem;
      font-weight: 300;
    }

    .cta-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      background: linear-gradient(135deg, var(--ms-blue), var(--ms-blue-deep));
      color: white;
      border: none;
      padding: 1.1rem 2.5rem;
      border-radius: 999px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Outfit', sans-serif;
      letter-spacing: 0.02em;
      box-shadow: 0 4px 20px var(--ms-blue-glow);
    }

    .cta-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px var(--ms-blue-glow);
    }

    .cta-btn:active {
      transform: translateY(0);
    }

    .cta-btn svg {
      width: 18px;
      height: 18px;
      transition: transform 0.3s ease;
    }

    .cta-btn:hover svg {
      transform: translateX(3px);
    }

    .status {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 1.5rem;
      font-size: 0.8rem;
      color: var(--success);
      font-weight: 500;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      background: var(--success);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--success);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(0.95); }
    }

    /* Features */
    .features {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
      margin-top: 4rem;
      padding-top: 3rem;
      border-top: 1px solid var(--border);
      width: 100%;
      max-width: 800px;
    }

    .feature {
      text-align: center;
      padding: 1.5rem 1rem;
      border-radius: 16px;
      transition: all 0.3s ease;
    }

    .feature:hover {
      background: var(--bg-card);
      box-shadow: var(--shadow);
    }

    .feature-icon {
      width: 44px;
      height: 44px;
      margin: 0 auto 1rem;
      background: var(--ms-blue-light);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .feature-icon svg {
      width: 22px;
      height: 22px;
      color: var(--ms-blue-deep);
    }

    .feature h3 {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 0.4rem;
    }

    .feature p {
      font-size: 0.85rem;
      color: var(--text-muted);
      font-weight: 300;
      line-height: 1.5;
    }

    /* Footer */
    footer {
      text-align: center;
      padding-top: 3rem;
      margin-top: auto;
    }

    .footer-address {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }

    .footer-note {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .footer-note a {
      color: var(--ms-blue);
      text-decoration: none;
    }

    .footer-note a:hover {
      text-decoration: underline;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        padding: 2rem 1.25rem;
      }

      header {
        flex-direction: column;
        gap: 1rem;
      }

      .features {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .demo-card {
        padding: 2rem 1.5rem;
      }

      .tagline {
        font-size: 2.25rem;
      }
    }

    /* Loading state */
    .cta-btn.loading {
      opacity: 0.85;
      pointer-events: none;
    }

    .cta-btn.loading svg {
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

  </style>
</head>
<body>

  <div class="bg-pattern"></div>

  <div class="container">
    <header>
      <div class="logo-group">
        <!-- Geometric tooth logo inspired by Manhattan Smiles -->
        <div class="logo-icon">
          <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M24 4L8 12V20L16 36L20 44L24 36L28 44L32 36L40 20V12L24 4Z" 
                  stroke="currentColor" stroke-width="1.5" fill="none" 
                  style="color: var(--ms-blue)"/>
            <path d="M8 12L24 20L40 12" stroke="currentColor" stroke-width="1.5" 
                  style="color: var(--ms-blue)" opacity="0.5"/>
            <path d="M24 20V36" stroke="currentColor" stroke-width="1.5" 
                  style="color: var(--ms-blue)" opacity="0.5"/>
            <path d="M16 8L16 16M32 8L32 16" stroke="currentColor" stroke-width="1.5" 
                  style="color: var(--ms-blue)" opacity="0.3"/>
          </svg>
        </div>
        <div class="logo-text">
          Manhattan Smiles
          <span>Dental Studio</span>
        </div>
      </div>
      
      <a href="tel:+12125955500" class="contact-pill">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"/>
        </svg>
        (212) 595-5500
      </a>
    </header>

    <main>
      <div class="hero">
        <h1 class="tagline">How can we make<br>you smile?</h1>
        <p class="subtitle">Experience our AI-powered dental assistant, available 24/7 to help you book appointments and answer questions.</p>
      </div>

      <div class="demo-card">
        <div class="card-glow"></div>
        <div class="card-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
          </svg>
        </div>
        <h2>Chat with our AI Assistant</h2>
        <p>Have questions about our services? Need to schedule an appointment? Our intelligent assistant is here to help you get the care you deserve.</p>
        
        <button class="cta-btn" id="chatBtn" onclick="openChat()">
          <span>Start Conversation</span>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </button>

        <div class="status">
          <span class="status-dot"></span>
          <span>Assistant Online</span>
        </div>
      </div>

      <div class="features">
        <div class="feature">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
              <line x1="16" y1="2" x2="16" y2="6"/>
              <line x1="8" y1="2" x2="8" y2="6"/>
              <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
          </div>
          <h3>Easy Booking</h3>
          <p>Schedule appointments instantly without phone calls</p>
        </div>

        <div class="feature">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12,6 12,12 16,14"/>
            </svg>
          </div>
          <h3>24/7 Available</h3>
          <p>Get answers anytime, day or night</p>
        </div>

        <div class="feature">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </svg>
          </div>
          <h3>Personalized Care</h3>
          <p>Tailored guidance for your dental needs</p>
        </div>
      </div>
    </main>

    <footer>
      <p class="footer-address">30 East 40th Street, Suite 406 · New York, NY 10016</p>
      <p class="footer-note">© 2026 <a href="https://www.manhattansmiles.com" target="_blank">Manhattan Smiles Dental Studio</a> · Dr. Julian Isaacs</p>
    </footer>
  </div>

  <script>
    // ============================================
    // CHATWOOT SDK - Self-hosted inline version
    // This eliminates external requests that cause 429 errors
    // ============================================
    (function(){"use strict";function B(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var c in t)e[c]=t[c]}return e}var te={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function T(e,o){function t(r,n,u){if(!(typeof document>"u")){u=B({},o,u),typeof u.expires=="number"&&(u.expires=new Date(Date.now()+u.expires*864e5)),u.expires&&(u.expires=u.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var b in u)u[b]&&(i+="; "+b,u[b]!==!0&&(i+="="+u[b].split(";")[0]));return document.cookie=r+"="+e.write(n,r)+i}}function c(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var n=document.cookie?document.cookie.split("; "):[],u={},i=0;i<n.length;i++){var b=n[i].split("="),s=b.slice(1).join("=");try{var a=decodeURIComponent(b[0]);if(u[a]=e.read(s,a),r===a)break}catch{}}return r?u[r]:u}}return Object.create({set:t,get:c,remove:function(r,n){t(r,"",B({},n,{expires:-1}))},withAttributes:function(r){return T(this.converter,B({},this.attributes,r))},withConverter:function(r){return T(B({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(e)}})}var x=T(te,{path:"/"});const oe=`:root{--b-100:#F2F3F7;--s-700:#37546D}.woot-widget-holder{box-shadow:0 5px 40px rgba(0,0,0,.16);opacity:1;will-change:transform,opacity;transform:translateY(0);overflow:hidden!important;position:fixed!important;transition:opacity .2s linear,transform .25s linear;z-index:2147483000!important}.woot-widget-holder.woot-widget-holder--flat{box-shadow:none;border-radius:0;border:1px solid var(--b-100)}.woot-widget-holder iframe{border:0;color-scheme:normal;height:100%!important;width:100%!important;max-height:100vh!important}.woot-widget-holder.has-unread-view{border-radius:0!important;min-height:80px!important;height:auto;bottom:94px;box-shadow:none!important;border:0}.woot-widget-bubble{background:#1f93ff;border-radius:100px;border-width:0;bottom:20px;box-shadow:0 8px 24px rgba(0,0,0,.16)!important;cursor:pointer;height:64px;padding:0;position:fixed;user-select:none;width:64px;z-index:2147483000!important;overflow:hidden}.woot-widget-bubble.woot-widget-bubble--flat{border-radius:0}.woot-widget-holder.woot-widget-holder--flat{bottom:90px}.woot-widget-bubble.woot-widget-bubble--flat{height:56px;width:56px}.woot-widget-bubble.woot-widget-bubble--flat svg{margin:16px}.woot-widget-bubble.woot-widget-bubble--flat.woot--close::before,.woot-widget-bubble.woot-widget-bubble--flat.woot--close::after{left:28px;top:16px}.woot-widget-bubble.unread-notification::after{content:'';position:absolute;width:12px;height:12px;background:#ff4040;border-radius:100%;top:0;right:0;border:2px solid #fff;transition:background .2s ease}.woot-widget-bubble.woot-widget--expanded{bottom:24px;display:flex;height:48px!important;width:auto!important;align-items:center}.woot-widget-bubble.woot-widget--expanded div{align-items:center;color:#fff;display:flex;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,Arial,sans-serif;font-size:16px;font-weight:500;justify-content:center;padding-right:20px;width:auto!important}.woot-widget-bubble.woot-widget--expanded.woot-widget-bubble-color--lighter div{color:var(--s-700)}.woot-widget-bubble.woot-widget--expanded svg{height:20px;margin:14px 8px 14px 16px;width:20px}.woot-widget-bubble.woot-elements--left{left:20px}.woot-widget-bubble.woot-elements--right{right:20px}.woot-widget-bubble:hover{background:#1f93ff;box-shadow:0 8px 32px rgba(0,0,0,.4)!important}.woot-widget-bubble svg{all:revert;height:24px;margin:20px;width:24px}.woot-widget-bubble.woot-widget-bubble-color--lighter path{fill:var(--s-700)}@media only screen and (min-width:667px){.woot-widget-holder.woot-elements--left{left:20px}.woot-widget-holder.woot-elements--right{right:20px}}.woot--close:hover{opacity:1}.woot--close::before,.woot--close::after{background-color:#fff;content:' ';display:inline;height:24px;left:32px;position:absolute;top:20px;width:2px}.woot-widget-bubble-color--lighter.woot--close::before,.woot-widget-bubble-color--lighter.woot--close::after{background-color:var(--s-700)}.woot--close::before{transform:rotate(45deg)}.woot--close::after{transform:rotate(-45deg)}.woot--hide{bottom:-100vh!important;top:unset!important;opacity:0;visibility:hidden!important;z-index:-1!important}.woot-widget--without-bubble{bottom:20px!important}.woot-widget-holder.woot--hide{transform:translateY(40px)}.woot-widget-bubble.woot--close{transform:translateX(0) scale(1) rotate(0);transition:transform .3s ease,opacity .1s ease,visibility 0s linear 0s,bottom 0s linear 0s}.woot-widget-bubble.woot--close.woot--hide{transform:translateX(8px) scale(.75) rotate(45deg);transition:transform .3s ease,opacity .2s ease,visibility 0s linear .5s,bottom 0s ease .2s}.woot-widget-bubble{transform-origin:center;will-change:transform,opacity;transform:translateX(0) scale(1) rotate(0);transition:transform .3s ease,opacity .1s ease,visibility 0s linear 0s,bottom 0s linear 0s}.woot-widget-bubble.woot--hide{transform:translateX(8px) scale(.75) rotate(-30deg);transition:transform .3s ease,opacity .2s ease,visibility 0s linear .5s,bottom 0s ease .2s}.woot-widget-bubble.woot-widget--expanded{transform:translateX(0);transition:transform .3s ease,opacity .1s ease,visibility 0s linear 0s,bottom 0s linear 0s}.woot-widget-bubble.woot-widget--expanded.woot--hide{transform:translateX(8px);transition:transform .3s ease,opacity .2s ease,visibility 0s linear .5s,bottom 0s ease .2s}.woot-widget-bubble.woot-widget-bubble--flat.woot--close{transform:translateX(0);transition:transform .3s ease,opacity 10ms ease,visibility 0s linear 0s,bottom 0s linear 0s}.woot-widget-bubble.woot-widget-bubble--flat.woot--close.woot--hide{transform:translateX(8px);transition:transform .3s ease,opacity .2s ease,visibility 0s linear .5s,bottom 0s ease .2s}.woot-widget-bubble.woot-widget--expanded.woot-widget-bubble--flat{transform:translateX(0);transition:transform .3s ease,opacity .2s ease,visibility 0s linear 0s,bottom 0s linear 0s}.woot-widget-bubble.woot-widget--expanded.woot-widget-bubble--flat.woot--hide{transform:translateX(8px);transition:transform .3s ease,opacity .2s ease,visibility 0s linear .5s,bottom 0s ease .2s}@media only screen and (max-width:667px){.woot-widget-holder{height:100%;right:0;top:0;width:100%}.woot-widget-holder iframe{min-height:100%!important}.woot-widget-holder.has-unread-view{height:auto;right:0;width:auto;bottom:0;top:auto;max-height:100vh;padding:0 8px}.woot-widget-holder.has-unread-view iframe{min-height:unset!important}.woot-widget-holder.has-unread-view.woot-elements--left{left:0}.woot-widget-bubble.woot--close{bottom:60px;opacity:0;visibility:hidden!important;z-index:-1!important}}@media only screen and (min-width:667px){.woot-widget-holder{border-radius:16px;bottom:104px;height:calc(90% - 64px - 20px);max-height:640px!important;min-height:250px!important;width:400px!important}}.woot-hidden{display:none!important}`,ne=()=>{const e=document.createElement("style");e.innerHTML=`${oe}`,e.id="cw-widget-styles",e.dataset.turboPermanent=!0,document.body.appendChild(e)},M=(e,o)=>{const t=document.getElementById(e),c=o.querySelector(`#${e}`);t&&!c&&o.appendChild(t)},F=e=>{M("cw-bubble-holder",e),M("cw-widget-holder",e),M("cw-widget-styles",e)},y=(e,o)=>{e.classList.add(...o.split(" "))},k=(e,o)=>{e.classList.toggle(o)},_=(e,o)=>{e.classList.remove(...o.split(" "))},N=({referrerURL:e,referrerHost:o})=>{g.events.onLocationChange({referrerURL:e,referrerHost:o})},ie=()=>{let e=document.location.href;const o=document.location.host,t={childList:!0,subtree:!0};N({referrerURL:e,referrerHost:o});const c=document.querySelector("body");new MutationObserver(n=>{n.forEach(()=>{e!==document.location.href&&(e=document.location.href,N({referrerURL:e,referrerHost:o}))})}).observe(c,t)},A=["standard","expanded_bubble"],R=["standard","flat"],H=["light","auto","dark"],W=e=>A.includes(e)?e:A[0],P=e=>W(e)===A[1],re=e=>R.includes(e)?e:R[0],z=e=>e==="flat",j=e=>H.includes(e)?e:H[0],ae="chatwoot:error",se="chatwoot:postback",le="chatwoot:ready",de="chatwoot:opened",ce="chatwoot:closed",we=({eventName:e,data:o=null})=>{let t;return typeof window.CustomEvent=="function"?t=new CustomEvent(e,{detail:o}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!1,!1,o)),t},E=({eventName:e,data:o})=>{const t=we({eventName:e,data:o});window.dispatchEvent(t)},ue="M240.808 240.808H122.123C56.6994 240.808 3.45695 187.562 3.45695 122.122C3.45695 56.7031 56.6994 3.45697 122.124 3.45697C187.566 3.45697 240.808 56.7031 240.808 122.122V240.808Z",V=document.getElementsByTagName("body")[0],v=document.createElement("div"),C=document.createElement("div"),U=document.createElement("button"),$=document.createElement("button");document.createElement("span");const ge=e=>{if(P(window.$chatwoot.type)){const o=document.getElementById("woot-widget--expanded__text");o.innerText=e}},be=({className:e,path:o,target:t})=>{let c=`${e} woot-elements--${window.$chatwoot.position}`;const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"id","woot-widget-bubble-icon"),r.setAttributeNS(null,"width","24"),r.setAttributeNS(null,"height","24"),r.setAttributeNS(null,"viewBox","0 0 240 240"),r.setAttributeNS(null,"fill","none"),r.setAttribute("xmlns","http://www.w3.org/2000/svg");const n=document.createElementNS("http://www.w3.org/2000/svg","path");if(n.setAttributeNS(null,"d",o),n.setAttributeNS(null,"fill","#FFFFFF"),r.appendChild(n),t.appendChild(r),P(window.$chatwoot.type)){const u=document.createElement("div");u.id="woot-widget--expanded__text",u.innerText="",t.appendChild(u),c+=" woot-widget--expanded"}return t.className=c,t.title="Open chat window",t},he=e=>{e&&y(C,"woot-hidden"),y(C,"woot--bubble-holder"),C.id="cw-bubble-holder",C.dataset.turboPermanent=!0,V.appendChild(C)},pe=e=>{g.events.onBubbleToggle(e),e?E({eventName:de}):(E({eventName:ce}),U.focus())},S=(e={})=>{const{toggleValue:o}=e,{isOpen:t}=window.$chatwoot;if(t===o)return;const c=o===void 0?!t:o;window.$chatwoot.isOpen=c,k(U,"woot--hide"),k($,"woot--hide"),k(v,"woot--hide"),pe(c)},fe=()=>{C.addEventListener("click",S)},me=()=>{const e=document.querySelector(".woot-widget-holder");y(e,"has-unread-view")},q=()=>{const e=document.querySelector(".woot-widget-holder");_(e,"has-unread-view")},ve=e=>{const o=e.replace("#",""),t=parseInt(o.substr(0,2),16),c=parseInt(o.substr(2,2),16),r=parseInt(o.substr(4,2),16);return(t*299+c*587+r*114)/1e3>225},xe="SET_USER_ERROR";function ye(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K={exports:{}},X={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(t,c){return t<<c|t>>>32-c},rotr:function(t,c){return t<<32-c|t>>>c},endian:function(t){if(t.constructor==Number)return o.rotl(t,8)&16711935|o.rotl(t,24)&4278255360;for(var c=0;c<t.length;c++)t[c]=o.endian(t[c]);return t},randomBytes:function(t){for(var c=[];t>0;t--)c.push(Math.floor(Math.random()*256));return c},bytesToWords:function(t){for(var c=[],r=0,n=0;r<t.length;r++,n+=8)c[n>>>5]|=t[r]<<24-n%32;return c},wordsToBytes:function(t){for(var c=[],r=0;r<t.length*32;r+=8)c.push(t[r>>>5]>>>24-r%32&255);return c},bytesToHex:function(t){for(var c=[],r=0;r<t.length;r++)c.push((t[r]>>>4).toString(16)),c.push((t[r]&15).toString(16));return c.join("")},hexToBytes:function(t){for(var c=[],r=0;r<t.length;r+=2)c.push(parseInt(t.substr(r,2),16));return c},bytesToBase64:function(t){for(var c=[],r=0;r<t.length;r+=3)for(var n=t[r]<<16|t[r+1]<<8|t[r+2],u=0;u<4;u++)r*8+u*6<=t.length*8?c.push(e.charAt(n>>>6*(3-u)&63)):c.push("=");return c.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],r=0,n=0;r<t.length;n=++r%4)n!=0&&c.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<n*2|e.indexOf(t.charAt(r))>>>6-n*2);return c}};X.exports=o})();var Ce=X.exports,D={utf8:{stringToBytes:function(e){return D.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(D.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var o=[],t=0;t<e.length;t++)o.push(e.charCodeAt(t)&255);return o},bytesToString:function(e){for(var o=[],t=0;t<e.length;t++)o.push(String.fromCharCode(e[t]));return o.join("")}}},Y=D;var Ee=function(e){return e!=null&&(G(e)||Se(e)||!!e._isBuffer)};function G(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Se(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&G(e.slice(0,0))}(function(){var e=Ce,o=Y.utf8,t=Ee,c=Y.bin,r=function(n,u){n.constructor==String?u&&u.encoding==="binary"?n=c.stringToBytes(n):n=o.stringToBytes(n):t(n)?n=Array.prototype.slice.call(n,0):!Array.isArray(n)&&n.constructor!==Uint8Array&&(n=n.toString());for(var i=e.bytesToWords(n),b=n.length*8,s=1732584193,a=-271733879,d=-1732584194,l=271733878,w=0;w<i.length;w++)i[w]=(i[w]<<8|i[w]>>>24)&16711935|(i[w]<<24|i[w]>>>8)&4278255360;i[b>>>5]|=128<<b%32,i[(b+64>>>9<<4)+14]=b;for(var h=r._ff,p=r._gg,f=r._hh,m=r._ii,w=0;w<i.length;w+=16){var Pe=s,ze=a,je=d,Ve=l;s=h(s,a,d,l,i[w+0],7,-680876936),l=h(l,s,a,d,i[w+1],12,-389564586),d=h(d,l,s,a,i[w+2],17,606105819),a=h(a,d,l,s,i[w+3],22,-1044525330),s=h(s,a,d,l,i[w+4],7,-176418897),l=h(l,s,a,d,i[w+5],12,1200080426),d=h(d,l,s,a,i[w+6],17,-1473231341),a=h(a,d,l,s,i[w+7],22,-45705983),s=h(s,a,d,l,i[w+8],7,1770035416),l=h(l,s,a,d,i[w+9],12,-1958414417),d=h(d,l,s,a,i[w+10],17,-42063),a=h(a,d,l,s,i[w+11],22,-1990404162),s=h(s,a,d,l,i[w+12],7,1804603682),l=h(l,s,a,d,i[w+13],12,-40341101),d=h(d,l,s,a,i[w+14],17,-1502002290),a=h(a,d,l,s,i[w+15],22,1236535329),s=p(s,a,d,l,i[w+1],5,-165796510),l=p(l,s,a,d,i[w+6],9,-1069501632),d=p(d,l,s,a,i[w+11],14,643717713),a=p(a,d,l,s,i[w+0],20,-373897302),s=p(s,a,d,l,i[w+5],5,-701558691),l=p(l,s,a,d,i[w+10],9,38016083),d=p(d,l,s,a,i[w+15],14,-660478335),a=p(a,d,l,s,i[w+4],20,-405537848),s=p(s,a,d,l,i[w+9],5,568446438),l=p(l,s,a,d,i[w+14],9,-1019803690),d=p(d,l,s,a,i[w+3],14,-187363961),a=p(a,d,l,s,i[w+8],20,1163531501),s=p(s,a,d,l,i[w+13],5,-1444681467),l=p(l,s,a,d,i[w+2],9,-51403784),d=p(d,l,s,a,i[w+7],14,1735328473),a=p(a,d,l,s,i[w+12],20,-1926607734),s=f(s,a,d,l,i[w+5],4,-378558),l=f(l,s,a,d,i[w+8],11,-2022574463),d=f(d,l,s,a,i[w+11],16,1839030562),a=f(a,d,l,s,i[w+14],23,-35309556),s=f(s,a,d,l,i[w+1],4,-1530992060),l=f(l,s,a,d,i[w+4],11,1272893353),d=f(d,l,s,a,i[w+7],16,-155497632),a=f(a,d,l,s,i[w+10],23,-1094730640),s=f(s,a,d,l,i[w+13],4,681279174),l=f(l,s,a,d,i[w+0],11,-358537222),d=f(d,l,s,a,i[w+3],16,-722521979),a=f(a,d,l,s,i[w+6],23,76029189),s=f(s,a,d,l,i[w+9],4,-640364487),l=f(l,s,a,d,i[w+12],11,-421815835),d=f(d,l,s,a,i[w+15],16,530742520),a=f(a,d,l,s,i[w+2],23,-995338651),s=m(s,a,d,l,i[w+0],6,-198630844),l=m(l,s,a,d,i[w+7],10,1126891415),d=m(d,l,s,a,i[w+14],15,-1416354905),a=m(a,d,l,s,i[w+5],21,-57434055),s=m(s,a,d,l,i[w+12],6,1700485571),l=m(l,s,a,d,i[w+3],10,-1894986606),d=m(d,l,s,a,i[w+10],15,-1051523),a=m(a,d,l,s,i[w+1],21,-2054922799),s=m(s,a,d,l,i[w+8],6,1873313359),l=m(l,s,a,d,i[w+15],10,-30611744),d=m(d,l,s,a,i[w+6],15,-1560198380),a=m(a,d,l,s,i[w+13],21,1309151649),s=m(s,a,d,l,i[w+4],6,-145523070),l=m(l,s,a,d,i[w+11],10,-1120210379),d=m(d,l,s,a,i[w+2],15,718787259),a=m(a,d,l,s,i[w+9],21,-343485551),s=s+Pe>>>0,a=a+ze>>>0,d=d+je>>>0,l=l+Ve>>>0}return e.endian([s,a,d,l])};r._ff=function(n,u,i,b,s,a,d){var l=n+(u&i|~u&b)+(s>>>0)+d;return(l<<a|l>>>32-a)+u},r._gg=function(n,u,i,b,s,a,d){var l=n+(u&b|i&~b)+(s>>>0)+d;return(l<<a|l>>>32-a)+u},r._hh=function(n,u,i,b,s,a,d){var l=n+(u^i^b)+(s>>>0)+d;return(l<<a|l>>>32-a)+u},r._ii=function(n,u,i,b,s,a,d){var l=n+(i^(u|~b))+(s>>>0)+d;return(l<<a|l>>>32-a)+u},r._blocksize=16,r._digestsize=16,K.exports=function(n,u){if(n==null)throw new Error("Illegal argument "+n);var i=e.wordsToBytes(r(n,u));return u&&u.asBytes?i:u&&u.asString?c.bytesToString(i):e.bytesToHex(i)}})();var Be=K.exports;const _e=ye(Be),J=["avatar_url","email","name"],$e=[...J,"identifier_hash"],L=()=>{const e="cw_user_",{websiteToken:o}=window.$chatwoot;return`${e}${o}`},Te=({identifier:e="",user:o})=>`${$e.reduce((c,r)=>`${c}${r}${o[r]||""}`,"")}identifier${e}`,Me=(...e)=>_e(Te(...e)),Fe=e=>J.reduce((o,t)=>o||!!e[t],!1),O=(e,o,{expires:t=365,baseDomain:c=void 0}={})=>{const r={expires:t,sameSite:"Lax",domain:c};typeof o=="object"&&(o=JSON.stringify(o)),x.set(e,o,r)},Z=["click","touchstart","keypress","keydown"],ke=()=>{let e;try{e=new(window.AudioContext||window.webkitAudioContext)}catch{}return e},Ae=async(e="",o)=>{const t=ke(),c=r=>{window.playAudioAlert=()=>{if(t){const n=t.createBufferSource();n.buffer=r,n.connect(t.destination),n.loop=!1,n.start()}}};if(t){const{type:r="dashboard",alertTone:n="ding"}=o||{},u=`${e}/audio/${r}/${n}.mp3`,i=new Request(u);fetch(i).then(b=>b.arrayBuffer()).then(b=>(t.decodeAudioData(b).then(c),new Promise(s=>s()))).catch(()=>{})}},Ue=({origin:e,conversationCookie:o,websiteToken:t,locale:c})=>{const r=new URL("/widget",e);return r.searchParams.append("cw_conversation",o),r.searchParams.append("website_token",t),r.searchParams.append("locale",c),r.toString()},De=(e,o,t,c)=>{try{const r=Ue({origin:e,websiteToken:o,locale:t,conversationCookie:c});window.open(r,`webwidget_session_${o}`,"resizable=off,width=400,height=600").focus()}catch(r){console.log(r)}};function Q(e){if(e===null||e===!0||e===!1)return NaN;var o=Number(e);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}function I(e,o){if(o.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+o.length+" present")}function Le(e){I(1,arguments);var o=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&o==="[object Date]"?new Date(e.getTime()):typeof e=="number"||o==="[object Number]"?new Date(e):((typeof e=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Oe(e,o){I(2,arguments);var t=Le(e).getTime(),c=Q(o);return new Date(t+c)}var Ie=36e5;function Ne(e,o){I(2,arguments);var t=Q(o);return Oe(e,t*Ie)}const ee=(e,o="")=>O("cw_conversation",e,{baseDomain:o}),Re=e=>{const o=Ne(new Date,1);O("cw_snooze_campaigns_till",Number(o),{expires:o,baseDomain:e})},g={getUrl({baseUrl:e,websiteToken:o}){return`${e}/widget?website_token=${o}`},createFrame:({baseUrl:e,websiteToken:o})=>{if(g.getAppFrame())return;ne();const t=document.createElement("iframe"),c=x.get("cw_conversation");let r=g.getUrl({baseUrl:e,websiteToken:o});c&&(r=`${r}&cw_conversation=${c}`),t.src=r,t.allow="camera;microphone;fullscreen;display-capture;picture-in-picture;clipboard-write;",t.id="chatwoot_live_chat_widget",t.style.visibility="hidden";let n=`woot-widget-holder woot--hide woot-elements--${window.$chatwoot.position}`;window.$chatwoot.hideMessageBubble&&(n+=" woot-widget--without-bubble"),z(window.$chatwoot.widgetStyle)&&(n+=" woot-widget-holder--flat"),y(v,n),v.id="cw-widget-holder",v.dataset.turboPermanent=!0,v.appendChild(t),V.appendChild(v),g.initPostMessageCommunication(),g.initWindowSizeListener(),g.preventDefaultScroll()},getAppFrame:()=>document.getElementById("chatwoot_live_chat_widget"),getBubbleHolder:()=>document.getElementsByClassName("woot--bubble-holder"),sendMessage:(e,o)=>{g.getAppFrame().contentWindow.postMessage(`chatwoot-widget:${JSON.stringify({event:e,...o})}`,"*")},initPostMessageCommunication:()=>{window.onmessage=e=>{if(typeof e.data!="string"||e.data.indexOf("chatwoot-widget:")!==0)return;const o=JSON.parse(e.data.replace("chatwoot-widget:",""));typeof g.events[o.event]=="function"&&g.events[o.event](o)}},initWindowSizeListener:()=>{window.addEventListener("resize",()=>g.toggleCloseButton())},preventDefaultScroll:()=>{v.addEventListener("wheel",e=>{const o=e.deltaY,t=v.scrollHeight,c=v.offsetHeight,r=v.scrollTop;(r===0&&o<0||c+r===t&&o>0)&&e.preventDefault()})},setFrameHeightToFitContent:(e,o)=>{const t=g.getAppFrame(),c=o?`${e}px`:"100%";t&&t.setAttribute("style",`height: ${c} !important`)},setupAudioListeners:()=>{const{baseUrl:e=""}=window.$chatwoot;Ae(e,{type:"widget",alertTone:"ding"}).then(()=>Z.forEach(o=>{document.removeEventListener(o,g.setupAudioListeners,!1)}))},events:{loaded:e=>{ee(e.config.authToken,window.$chatwoot.baseDomain),window.$chatwoot.hasLoaded=!0;const o=x.get("cw_snooze_campaigns_till");g.sendMessage("config-set",{locale:window.$chatwoot.locale,position:window.$chatwoot.position,hideMessageBubble:window.$chatwoot.hideMessageBubble,showPopoutButton:window.$chatwoot.showPopoutButton,widgetStyle:window.$chatwoot.widgetStyle,darkMode:window.$chatwoot.darkMode,showUnreadMessagesDialog:window.$chatwoot.showUnreadMessagesDialog,campaignsSnoozedTill:o,welcomeTitle:window.$chatwoot.welcomeTitle,welcomeDescription:window.$chatwoot.welcomeDescription,availableMessage:window.$chatwoot.availableMessage,unavailableMessage:window.$chatwoot.unavailableMessage,enableFileUpload:window.$chatwoot.enableFileUpload,enableEmojiPicker:window.$chatwoot.enableEmojiPicker,enableEndConversation:window.$chatwoot.enableEndConversation}),g.onLoad({widgetColor:e.config.channelConfig.widgetColor}),g.toggleCloseButton(),window.$chatwoot.user&&g.sendMessage("set-user",window.$chatwoot.user),window.playAudioAlert=()=>{},Z.forEach(t=>{document.addEventListener(t,g.setupAudioListeners,!1)}),window.$chatwoot.resetTriggered||E({eventName:le})},error:({errorType:e,data:o})=>{E({eventName:ae,data:o}),e===xe&&x.remove(L())},onEvent({eventIdentifier:e,data:o}){E({eventName:e,data:o})},setBubbleLabel(e){ge(window.$chatwoot.launcherTitle||e.label)},setAuthCookie({data:{widgetAuthToken:e}}){ee(e,window.$chatwoot.baseDomain)},setCampaignReadOn(){Re(window.$chatwoot.baseDomain)},postback(e){E({eventName:se,data:e})},toggleBubble:e=>{let o={};e==="open"?o.toggleValue=!0:e==="close"&&(o.toggleValue=!1),S(o)},popoutChatWindow:({baseUrl:e,websiteToken:o,locale:t})=>{const c=x.get("cw_conversation");window.$chatwoot.toggle("close"),De(e,o,t,c)},closeWindow:()=>{S({toggleValue:!1}),q()},onBubbleToggle:e=>{g.sendMessage("toggle-open",{isOpen:e}),e&&g.pushEvent("webwidget.triggered")},onLocationChange:({referrerURL:e,referrerHost:o})=>{g.sendMessage("change-url",{referrerURL:e,referrerHost:o})},updateIframeHeight:e=>{const{extraHeight:o=0,isFixedHeight:t}=e;g.setFrameHeightToFitContent(o,t)},setUnreadMode:()=>{me(),S({toggleValue:!0})},resetUnreadMode:()=>q(),handleNotificationDot:e=>{if(window.$chatwoot.hideMessageBubble)return;const o=document.querySelector(".woot-widget-bubble");e.unreadMessageCount>0&&!o.classList.contains("unread-notification")?y(o,"unread-notification"):e.unreadMessageCount===0&&_(o,"unread-notification")},closeChat:()=>{S({toggleValue:!1})},playAudio:()=>{window.playAudioAlert()}},pushEvent:e=>{g.sendMessage("push-event",{eventName:e})},onLoad:({widgetColor:e})=>{const o=g.getAppFrame();if(o.style.visibility="",o.setAttribute("id","chatwoot_live_chat_widget"),g.getBubbleHolder().length)return;he(window.$chatwoot.hideMessageBubble),ie();let t="woot-widget-bubble",c=`woot-elements--${window.$chatwoot.position} woot-widget-bubble woot--close woot--hide`;z(window.$chatwoot.widgetStyle)&&(t+=" woot-widget-bubble--flat",c+=" woot-widget-bubble--flat"),ve(e)&&(t+=" woot-widget-bubble-color--lighter",c+=" woot-widget-bubble-color--lighter");const r=be({className:t,path:ue,target:U});y($,c),r.style.background=e,$.style.background=e,C.appendChild(r),C.appendChild($),fe()},toggleCloseButton:()=>{let e=!1;window.matchMedia("(max-width: 668px)").matches&&(e=!0),g.sendMessage("toggle-close-button",{isMobile:e})}},He="sdk-set-bubble-visibility",We=({baseUrl:e,websiteToken:o})=>{if(window.$chatwoot)return;document.addEventListener("turbo:before-render",n=>{n.detail.renderMethod!=="morph"&&F(n.detail.newBody)}),window.Turbolinks&&document.addEventListener("turbolinks:before-render",n=>{F(n.data.newBody)}),document.addEventListener("astro:before-swap",n=>F(n.newDocument.body));const t=window.chatwootSettings||{};let c=t.locale,r=t.baseDomain;t.useBrowserLanguage&&(c=window.navigator.language.replace("-","_")),window.$chatwoot={baseUrl:e,baseDomain:r,hasLoaded:!1,hideMessageBubble:t.hideMessageBubble||!1,isOpen:!1,position:t.position==="left"?"left":"right",websiteToken:o,locale:c,useBrowserLanguage:t.useBrowserLanguage||!1,type:W(t.type),launcherTitle:t.launcherTitle||"",showPopoutButton:t.showPopoutButton||!1,showUnreadMessagesDialog:t.showUnreadMessagesDialog??!0,widgetStyle:re(t.widgetStyle)||"standard",resetTriggered:!1,darkMode:j(t.darkMode),welcomeTitle:t.welcomeTitle||"",welcomeDescription:t.welcomeDescription||"",availableMessage:t.availableMessage||"",unavailableMessage:t.unavailableMessage||"",enableFileUpload:t.enableFileUpload??!0,enableEmojiPicker:t.enableEmojiPicker??!0,enableEndConversation:t.enableEndConversation??!0,toggle(n){g.events.toggleBubble(n)},toggleBubbleVisibility(n){let u=document.querySelector(".woot--bubble-holder"),i=document.querySelector(".woot-widget-holder");n==="hide"?(y(i,"woot-widget--without-bubble"),y(u,"woot-hidden"),window.$chatwoot.hideMessageBubble=!0):n==="show"&&(_(u,"woot-hidden"),_(i,"woot-widget--without-bubble"),window.$chatwoot.hideMessageBubble=!1),g.sendMessage(He,{hideMessageBubble:window.$chatwoot.hideMessageBubble})},popoutChatWindow(){g.events.popoutChatWindow({baseUrl:window.$chatwoot.baseUrl,websiteToken:window.$chatwoot.websiteToken,locale:c})},setUser(n,u){if(typeof n!="string"&&typeof n!="number")throw new Error("Identifier should be a string or a number");if(!Fe(u))throw new Error("User object should have one of the keys [avatar_url, email, name]");const i=L(),b=x.get(i),s=Me({identifier:n,user:u});s!==b&&(window.$chatwoot.identifier=n,window.$chatwoot.user=u,g.sendMessage("set-user",{identifier:n,user:u}),O(i,s,{baseDomain:r}))},setCustomAttributes(n={}){if(!n||!Object.keys(n).length)throw new Error("Custom attributes should have atleast one key");g.sendMessage("set-custom-attributes",{customAttributes:n})},deleteCustomAttribute(n=""){if(n)g.sendMessage("delete-custom-attribute",{customAttribute:n});else throw new Error("Custom attribute is required")},setConversationCustomAttributes(n={}){if(!n||!Object.keys(n).length)throw new Error("Custom attributes should have atleast one key");g.sendMessage("set-conversation-custom-attributes",{customAttributes:n})},deleteConversationCustomAttribute(n=""){if(n)g.sendMessage("delete-conversation-custom-attribute",{customAttribute:n});else throw new Error("Custom attribute is required")},setLabel(n=""){g.sendMessage("set-label",{label:n})},removeLabel(n=""){g.sendMessage("remove-label",{label:n})},setLocale(n="en"){g.sendMessage("set-locale",{locale:n})},setColorScheme(n="light"){g.sendMessage("set-color-scheme",{darkMode:j(n)})},reset(){window.$chatwoot.isOpen&&g.events.toggleBubble(),x.remove("cw_conversation"),x.remove(L());const n=g.getAppFrame();n.src=g.getUrl({baseUrl:window.$chatwoot.baseUrl,websiteToken:window.$chatwoot.websiteToken}),window.$chatwoot.resetTriggered=!0}},g.createFrame({baseUrl:e,websiteToken:o})};window.chatwootSDK={run:We}})();
    // ============================================
    // END CHATWOOT SDK
    // ============================================

    let widgetInitialized = false;

    function initChatwoot() {
      if (widgetInitialized) return;
      
      window.chatwootSDK.run({
        websiteToken: 'knRBaSKzxkWP6akbXMDCG6m9',
        baseUrl: 'https://inbox.automatia.bot'
      });
      widgetInitialized = true;
    }

    function openChat() {
      const btn = document.getElementById('chatBtn');
      
      // If widget is ready, just toggle it
      if (window.$chatwoot && typeof window.$chatwoot.toggle === "function") {
        window.$chatwoot.toggle();
        return;
      }

      // Initialize widget if not done yet
      if (!widgetInitialized) {
        // Show loading state
        btn.classList.add('loading');
        btn.querySelector('span').textContent = 'Loading...';
        btn.querySelector('svg').innerHTML = '<circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="60" stroke-dashoffset="20"/>';

        initChatwoot();
        
        // Wait for widget to initialize then open
        const checkReady = setInterval(() => {
          if (window.$chatwoot && typeof window.$chatwoot.toggle === "function") {
            clearInterval(checkReady);
            
            // Restore button
            btn.classList.remove('loading');
            btn.querySelector('span').textContent = 'Start Conversation';
            btn.querySelector('svg').innerHTML = '<path d="M5 12h14M12 5l7 7-7 7"/>';
            
            window.$chatwoot.toggle();
          }
        }, 100);
        
        // Timeout after 10 seconds
        setTimeout(() => clearInterval(checkReady), 10000);
      }
    }
  </script>

</body>
</html>
